# StockSub Provider Node 任务配置
# 基于 Cron 表达式的灵活任务调度

jobs:
  # 实时股票数据采集 - A股主要股票
  - name: "fetch-realtime-stock-ashare-main"
    enabled: true
    schedule: "*/5 * 9-11,13-14 * * 1-5"  # 每5秒，交易时段，工作日
    provider:
      name: "tencent"
      type: "RealtimeStock"
    params:
      symbols: ["600000", "000001", "000002", "600036", "600519"]
    output:
      type: "redis_stream"
      stream: "stream:stock:realtime"

  # 实时股票数据采集 - 科创板
  - name: "fetch-realtime-stock-star"
    enabled: true
    schedule: "*/10 * 9-11,13-14 * * 1-5"  # 每10秒，交易时段，工作日
    provider:
      name: "tencent"
      type: "RealtimeStock"
    params:
      symbols: ["688036", "688599", "688981"]
    output:
      type: "redis_stream"
      stream: "stream:stock:realtime"

  # 测试任务 - 单只股票高频采集
  - name: "test-high-frequency"
    enabled: false  # 默认禁用，用于测试
    schedule: "*/2 * * * * *"  # 每2秒
    provider:
      name: "tencent"
      type: "RealtimeStock"
    params:
      symbols: ["600000"]
    output:
      type: "redis_stream"
      stream: "stream:stock:realtime"

  # 新浪数据源采集任务
  - name: "fetch-realtime-stock-sina"
    enabled: true
    schedule: "*/10 * 9-11,13-14 * * 1-5"  # 每10秒，交易时段，工作日
    provider:
      name: "sina"
      type: "RealtimeStock"
    params:
      symbols: ["600000", "000001", "300750"] # 浦发银行, 平安银行, 宁德时代
    output:
      type: "redis_stream"
      stream: "stream:stock:realtime"